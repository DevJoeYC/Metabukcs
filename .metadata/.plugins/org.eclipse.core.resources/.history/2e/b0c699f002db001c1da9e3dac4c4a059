-- 장바구니
CREATE TABLE "cart" (
	"cart_no" <데이터 타입 없음> NOT NULL,
	"pro_no" <데이터 타입 없음> NULL,
	"price" <데이터 타입 없음> NULL,
	"acc" <데이터 타입 없음> NULL,
	"quan" <데이터 타입 없음> NULL,
	"op01_name" <데이터 타입 없음> NULL,
	"op01_quan" <데이터 타입 없음> NULL,
	"op01_price" <데이터 타입 없음> NULL,
	"op02_name" <데이터 타입 없음> NULL,
	"op02_quan" <데이터 타입 없음> NULL,
	"op02_price" <데이터 타입 없음> NULL,
	"op03_name" <데이터 타입 없음> NULL,
	"op03_quan" <데이터 타입 없음> NULL,
	"op03_price" <데이터 타입 없음> NULL,
	"sumPrice" <데이터 타입 없음> NULL
);

-- 장바구니
ALTER TABLE "cart"
	ADD CONSTRAINT "PK_cart" -- 장바구니 기본키
	PRIMARY KEY (
	"cart_no" -- 장바구니번호
	);

-- 주문목록
CREATE TABLE "orderList" (
	"od_no" <데이터 타입 없음> NOT NULL,
	"st_no" <데이터 타입 없음> NULL,
	"no" <데이터 타입 없음> NULL,
	"date" <데이터 타입 없음> NULL,
	"kind" <데이터 타입 없음> NULL,
	"total_price" <데이터 타입 없음> NULL,
	"total_point" <데이터 타입 없음> NULL,
	"get_time" <데이터 타입 없음> NULL,
	"pay_flag" <데이터 타입 없음> NULL
);

-- 주문목록
ALTER TABLE "orderList"
	ADD CONSTRAINT "PK_orderList" -- 주문목록 기본키
	PRIMARY KEY (
	"od_no" -- 주문번호
	);

-- 결제정보
CREATE TABLE "payment" (
	"pay_no" <데이터 타입 없음> NOT NULL,
	"od_no" <데이터 타입 없음> NULL,
	"date" <데이터 타입 없음> NULL,
	"pay_method" <데이터 타입 없음> NULL,
	"pay_amount" <데이터 타입 없음> NULL,
	"pointpay" <데이터 타입 없음> NULL,
	"pay_point" <데이터 타입 없음> NULL
);

-- 결제정보
ALTER TABLE "payment"
	ADD CONSTRAINT "PK_payment" -- 결제정보 기본키
	PRIMARY KEY (
	"pay_no" -- 결제번호
	);

-- 주문상세
CREATE TABLE "orderDetail" (
	"od_no" <데이터 타입 없음> NULL,
	"cart_no" <데이터 타입 없음> NULL
);

-- 회원
CREATE TABLE "account" (
	"no" <데이터 타입 없음> NOT NULL,
	"id" <데이터 타입 없음> NULL,
	"fno" <데이터 타입 없음> NULL
);

-- 회원
ALTER TABLE "account"
	ADD CONSTRAINT "PK_account" -- 회원 기본키
	PRIMARY KEY (
	"no" -- 회원번호
	);

-- 즐겨찾는메뉴
CREATE TABLE "myfav" (
	"no" <데이터 타입 없음> NULL,
	"cart_no" <데이터 타입 없음> NULL
);

-- 상품목록
CREATE TABLE "pro_list" (
	"pro_no" <데이터 타입 없음> NOT NULL,
	"price" <데이터 타입 없음> NOT NULL,
	"acc" <데이터 타입 없음> NOT NULL
);

-- 상품목록
ALTER TABLE "pro_list"
	ADD CONSTRAINT "PK_pro_list" -- 상품목록 기본키
	PRIMARY KEY (
	"pro_no", -- 상품번호
	"price",  -- 상품가격
	"acc"     -- 적립률
	);

-- 매장
CREATE TABLE "store" (
	"st_no" <데이터 타입 없음> NOT NULL
);

-- 매장
ALTER TABLE "store"
	ADD CONSTRAINT "PK_store" -- 매장 기본키
	PRIMARY KEY (
	"st_no" -- 매장번호
	);

-- 장바구니
ALTER TABLE "cart"
	ADD CONSTRAINT "FK_pro_list_TO_cart" -- 상품목록 -> 장바구니
	FOREIGN KEY (
	"pro_no", -- 상품번호
	"price",  -- 상품가격
	"acc"     -- 적립률
	)
	REFERENCES "pro_list" ( -- 상품목록
	"pro_no", -- 상품번호
	"price",  -- 상품가격
	"acc"     -- 적립률
	);

-- 주문목록
ALTER TABLE "orderList"
	ADD CONSTRAINT "FK_account_TO_orderList" -- 회원 -> 주문목록
	FOREIGN KEY (
	"no" -- 주문주체
	)
	REFERENCES "account" ( -- 회원
	"no" -- 회원번호
	);

-- 주문목록
ALTER TABLE "orderList"
	ADD CONSTRAINT "FK_store_TO_orderList" -- 매장 -> 주문목록
	FOREIGN KEY (
	"st_no" -- 매장번호
	)
	REFERENCES "store" ( -- 매장
	"st_no" -- 매장번호
	);

-- 결제정보
ALTER TABLE "payment"
	ADD CONSTRAINT "FK_orderList_TO_payment" -- 주문목록 -> 결제정보
	FOREIGN KEY (
	"od_no" -- 주문번호
	)
	REFERENCES "orderList" ( -- 주문목록
	"od_no" -- 주문번호
	);

-- 주문상세
ALTER TABLE "orderDetail"
	ADD CONSTRAINT "FK_orderList_TO_orderDetail" -- 주문목록 -> 주문상세
	FOREIGN KEY (
	"od_no" -- 주문번호
	)
	REFERENCES "orderList" ( -- 주문목록
	"od_no" -- 주문번호
	);

-- 주문상세
ALTER TABLE "orderDetail"
	ADD CONSTRAINT "FK_cart_TO_orderDetail" -- 장바구니 -> 주문상세
	FOREIGN KEY (
	"cart_no" -- 장바구니번호
	)
	REFERENCES "cart" ( -- 장바구니
	"cart_no" -- 장바구니번호
	);

-- 즐겨찾는메뉴
ALTER TABLE "myfav"
	ADD CONSTRAINT "FK_cart_TO_myfav" -- 장바구니 -> 즐겨찾는메뉴
	FOREIGN KEY (
	"cart_no" -- 장바구니번호
	)
	REFERENCES "cart" ( -- 장바구니
	"cart_no" -- 장바구니번호
	);

-- 즐겨찾는메뉴
ALTER TABLE "myfav"
	ADD CONSTRAINT "FK_account_TO_myfav" -- 회원 -> 즐겨찾는메뉴
	FOREIGN KEY (
	"no" -- 회원번호
	)
	REFERENCES "account" ( -- 회원
	"no" -- 회원번호
	);